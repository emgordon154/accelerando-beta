{"version":3,"sources":["webpack:///./game/states/main-menu.js"],"names":["gv","mainMenu","game","prototype","preload","assetNames","forEach","load","image","assetName","socket","io","connect","window","location","origin","create","playTitleMusic","background","add","tileSprite","title","text","boundsAlignH","font","fill","setTextBounds","choices","menuOptions","map","choice","position","player","sprite","selectedMenuOption","cursors","input","keyboard","createCursorKeys","spacebar","addKey","Phaser","KeyCode","SPACEBAR","addKeyCapture","update","up","justPressed","console","log","down","length","y","stopTitleMusic","player2id","state","start","emit","on","otherPlayer","alert"],"mappings":"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","file":"0.8bb1eaa4ec5f8e6d2726.hot-update.js","sourcesContent":["// this is where the socket is initialized\n\nimport gameVariables from '../variables'\nvar gv = gameVariables\n\nimport {playTitleMusic, stopTitleMusic} from '~/audio/loops'\n\nfunction mainMenu(game) { }\n\nmainMenu.prototype = {\n  preload() {\n    const assetNames = [\n      'space', // https://opengameart.org/content/space-backdrop\n      'spaceship', // https://opengameart.org/content/space-ships-side-scroller\n    ]\n\n    assetNames.forEach(assetName => this.game.load.image(assetName, `/img/${assetName}.png`))\n\n    gv.socket = io.connect(window.location.origin)\n  },\n\n  create() {\n    const game = this.game\n    \n    playTitleMusic()\n    \n    gv.background = game.add.tileSprite(0, 0, 800, 600, 'space')\n    gv.title = game.add.text(0, 200, 'ACCELERANDO', {\n      boundsAlignH: 'center',\n      font: '24pt Monaco',\n      fill: 'white'\n    })\n    gv.title.setTextBounds(0, 0, 800, 600)\n\n    const choices = [\n      'Single Player',\n      'Online Multiplayer',\n      'Sound Test',\n    ]\n\n    gv.menuOptions = choices.map((choice, position) =>\n      game.add.text(0, 400 + position * 40, choice, {\n        boundsAlignH: 'center',\n        font: '14pt Monaco',\n        fill: 'white'\n      }).setTextBounds(0,0,800,600)\n    )\n\n    gv.player = game.add.sprite(200, 400, 'spaceship')\n\n    gv.selectedMenuOption = 0\n  \n    gv.cursors = game.input.keyboard.createCursorKeys()\n    gv.spacebar = game.input.keyboard.addKey(Phaser.KeyCode.SPACEBAR)\n    game.input.keyboard.addKeyCapture(Phaser.KeyCode.SPACEBAR)\n  },\n\n  update() {\n    if (gv.cursors.up.justPressed()) {\n      gv.selectedMenuOption = gv.selectedMenuOption - 1\n      if (gv.selectedMenuOption < 0) gv.selectedMenuOption = 2\n      console.log('selectedMenuOption: ', gv.selectedMenuOption)\n    }\n\n    if (gv.cursors.down.justPressed()) {\n      gv.selectedMenuOption = (gv.selectedMenuOption + 1) % gv.menuOptions.length\n      console.log('selectedMenuOption: ', gv.selectedMenuOption)\n    }\n\n    gv.player.y = 400 + gv.selectedMenuOption * 40\n\n    if (gv.spacebar.justPressed()) {\n      switch (gv.selectedMenuOption) {\n\n        case 0: // Single Player\n          stopTitleMusic()\n          gv.player2id = null\n          this.game.state.start('In game') // one player\n          break\n\n        case 1: // Online Multiplayer\n          console.log('case 1 was hit')\n          gv.socket.emit('playerReady')\n          gv.socket.on('bothReady', otherPlayer => {\n            console.log('bothReady signal received')\n            gv.player2id = otherPlayer\n            this.game.state.start('In game')\n          })\n          break\n\n        // why are these two things triggering whenever option 1 is selected??\n        // case 2:\n        //   alert('not implemented')\n        //   break\n\n        default:\n          alert('how did you select a non-existent menu option??')\n          \n      }\n    }\n  }\n}\n\nexport default mainMenu\n\n\n\n// WEBPACK FOOTER //\n// ./game/states/main-menu.js"],"sourceRoot":""}